"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[862],{1077:(e,t,n)=>{n.d(t,{Gc:()=>tk,of:()=>tO});var o,l=n(5155),r=n(2599),i=n(9503),a=n(2115),s=n(2985),d=n(2689);n(7650);let c=(0,a.createContext)(null),u=c.Provider,g=i.xc.error001();function f(e,t){let n=(0,a.useContext)(c);if(null===n)throw Error(g);return(0,s.n)(n,e,t)}function p(){let e=(0,a.useContext)(c);if(null===e)throw Error(g);return(0,a.useMemo)(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}let m={display:"none"},v={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},h="react-flow__node-desc",y="react-flow__edge-desc",S=e=>e.ariaLiveMessage;function b(e){let{rfId:t}=e,n=f(S);return(0,l.jsx)("div",{id:"".concat("react-flow__aria-live","-").concat(t),"aria-live":"assertive","aria-atomic":"true",style:v,children:n})}function x(e){let{rfId:t,disableKeyboardA11y:n}=e;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{id:"".concat(h,"-").concat(t),style:m,children:["Press enter or space to select a node.",!n&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "]}),(0,l.jsx)("div",{id:"".concat(y,"-").concat(t),style:m,children:"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."}),!n&&(0,l.jsx)(b,{rfId:t})]})}let w=e=>e.userSelectionActive?"none":"all",C=(0,a.forwardRef)((e,t)=>{let{position:n="top-left",children:o,className:i,style:a,...s}=e,d=f(w),c="".concat(n).split("-");return(0,l.jsx)("div",{className:(0,r.A)(["react-flow__panel",i,...c]),style:{...a,pointerEvents:d},ref:t,...s,children:o})});function E(e){let{proOptions:t,position:n="bottom-right"}=e;return(null==t?void 0:t.hideAttribution)?null:(0,l.jsx)(C,{position:n,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:(0,l.jsx)("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}let k=e=>{let t=[],n=[];for(let[,n]of e.nodeLookup)n.selected&&t.push(n.internals.userNode);for(let[,t]of e.edgeLookup)t.selected&&n.push(t);return{selectedNodes:t,selectedEdges:n}},N=e=>e.id;function M(e,t){return(0,d.x)(e.selectedNodes.map(N),t.selectedNodes.map(N))&&(0,d.x)(e.selectedEdges.map(N),t.selectedEdges.map(N))}function P(e){let{onSelectionChange:t}=e,n=p(),{selectedNodes:o,selectedEdges:l}=f(k,M);return(0,a.useEffect)(()=>{let e={nodes:o,edges:l};null==t||t(e),n.getState().onSelectionChangeHandlers.forEach(t=>t(e))},[o,l,t]),null}let D=e=>!!e.onSelectionChangeHandlers;function R(e){let{onSelectionChange:t}=e,n=f(D);return t||n?(0,l.jsx)(P,{onSelectionChange:t}):null}let j=[0,0],I={x:0,y:0,zoom:1},O=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","onBeforeDelete","debug","autoPanSpeed","paneClickDistance","rfId"],_=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setPaneClickDistance:e.setPaneClickDistance}),A={translateExtent:i.ZO,nodeOrigin:j,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1",paneClickDistance:0};function B(e){let{setNodes:t,setEdges:n,setMinZoom:o,setMaxZoom:l,setTranslateExtent:r,setNodeExtent:i,reset:s,setDefaultNodesAndEdges:c,setPaneClickDistance:u}=f(_,d.x),g=p();(0,a.useEffect)(()=>(c(e.defaultNodes,e.defaultEdges),()=>{m.current=A,s()}),[]);let m=(0,a.useRef)(A);return(0,a.useEffect)(()=>{for(let a of O){let s=e[a];s!==m.current[a]&&void 0!==e[a]&&("nodes"===a?t(s):"edges"===a?n(s):"minZoom"===a?o(s):"maxZoom"===a?l(s):"translateExtent"===a?r(s):"nodeExtent"===a?i(s):"paneClickDistance"===a?u(s):"fitView"===a?g.setState({fitViewOnInit:s}):"fitViewOptions"===a?g.setState({fitViewOnInitOptions:s}):g.setState({[a]:s}))}m.current=e},O.map(t=>e[t])),null}function L(){return"undefined"!=typeof window&&window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)"):null}let z="undefined"!=typeof document?document:null;function V(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{target:z,actInsideInputWithModifier:!0},[n,o]=(0,a.useState)(!1),l=(0,a.useRef)(!1),r=(0,a.useRef)(new Set([])),[s,d]=(0,a.useMemo)(()=>{if(null!==e){let t=(Array.isArray(e)?e:[e]).filter(e=>"string"==typeof e).map(e=>e.replace("+","\n").replace("\n\n","\n+").split("\n")),n=t.reduce((e,t)=>e.concat(...t),[]);return[t,n]}return[[],[]]},[e]);return(0,a.useEffect)(()=>{let n=(null==t?void 0:t.target)||z;if(null!==e){let e=e=>{if(l.current=e.ctrlKey||e.metaKey||e.shiftKey,(!l.current||l.current&&!t.actInsideInputWithModifier)&&(0,i.v5)(e))return!1;let n=T(e.code,d);r.current.add(e[n]),F(s,r.current,!1)&&(e.preventDefault(),o(!0))},a=e=>{if((!l.current||l.current&&!t.actInsideInputWithModifier)&&(0,i.v5)(e))return!1;let n=T(e.code,d);F(s,r.current,!0)?(o(!1),r.current.clear()):r.current.delete(e[n]),"Meta"===e.key&&r.current.clear(),l.current=!1},c=()=>{r.current.clear(),o(!1)};return null==n||n.addEventListener("keydown",e),null==n||n.addEventListener("keyup",a),window.addEventListener("blur",c),window.addEventListener("contextmenu",c),()=>{null==n||n.removeEventListener("keydown",e),null==n||n.removeEventListener("keyup",a),window.removeEventListener("blur",c),window.removeEventListener("contextmenu",c)}}},[e,o]),n}function F(e,t,n){return e.filter(e=>n||e.length===t.size).some(e=>e.every(e=>t.has(e)))}function T(e,t){return t.includes(e)?"code":"key"}let H=()=>{let e=p();return(0,a.useMemo)(()=>({zoomIn:t=>{let{panZoom:n}=e.getState();return n?n.scaleBy(1.2,{duration:null==t?void 0:t.duration}):Promise.resolve(!1)},zoomOut:t=>{let{panZoom:n}=e.getState();return n?n.scaleBy(1/1.2,{duration:null==t?void 0:t.duration}):Promise.resolve(!1)},zoomTo:(t,n)=>{let{panZoom:o}=e.getState();return o?o.scaleTo(t,{duration:null==n?void 0:n.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(t,n)=>{var o,l,r;let{transform:[i,a,s],panZoom:d}=e.getState();return d?(await d.setViewport({x:null!==(o=t.x)&&void 0!==o?o:i,y:null!==(l=t.y)&&void 0!==l?l:a,zoom:null!==(r=t.zoom)&&void 0!==r?r:s},{duration:null==n?void 0:n.duration}),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{let[t,n,o]=e.getState().transform;return{x:t,y:n,zoom:o}},fitView:t=>{let{nodeLookup:n,minZoom:o,maxZoom:l,panZoom:r,domNode:a}=e.getState();if(!r||!a)return Promise.resolve(!1);let s=(0,i.YV)(n,t),{width:d,height:c}=(0,i.Eo)(a);return(0,i.Pr)({nodes:s,width:d,height:c,minZoom:o,maxZoom:l,panZoom:r},t)},setCenter:async(t,n,o)=>{let{width:l,height:r,maxZoom:i,panZoom:a}=e.getState(),s=void 0!==(null==o?void 0:o.zoom)?o.zoom:i;return a?(await a.setViewport({x:l/2-t*s,y:r/2-n*s,zoom:s},{duration:null==o?void 0:o.duration}),Promise.resolve(!0)):Promise.resolve(!1)},fitBounds:async(t,n)=>{var o;let{width:l,height:r,minZoom:a,maxZoom:s,panZoom:d}=e.getState(),c=(0,i.R4)(t,l,r,a,s,null!==(o=null==n?void 0:n.padding)&&void 0!==o?o:.1);return d?(await d.setViewport(c,{duration:null==n?void 0:n.duration}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{snapToGrid:!0},{transform:o,snapGrid:l,domNode:r}=e.getState();if(!r)return t;let{x:a,y:s}=r.getBoundingClientRect(),d={x:t.x-a,y:t.y-s};return(0,i.Ff)(d,o,n.snapToGrid,l)},flowToScreenPosition:t=>{let{transform:n,domNode:o}=e.getState();if(!o)return t;let{x:l,y:r}=o.getBoundingClientRect(),a=(0,i.zj)(t,n);return{x:a.x+l,y:a.y+r}}}),[])};function Z(e,t){let n=[],o=new Map,l=[];for(let t of e){if("add"===t.type){l.push(t);continue}if("remove"===t.type||"replace"===t.type)o.set(t.id,[t]);else{let e=o.get(t.id);e?e.push(t):o.set(t.id,[t])}}for(let e of t){let t=o.get(e.id);if(!t){n.push(e);continue}if("remove"===t[0].type)continue;if("replace"===t[0].type){n.push({...t[0].item});continue}let l={...e};for(let e of t)!function(e,t){switch(e.type){case"select":t.selected=e.selected;break;case"position":void 0!==e.position&&(t.position=e.position),void 0!==e.dragging&&(t.dragging=e.dragging);break;case"dimensions":if(void 0!==e.dimensions){var n;null!==(n=t.measured)&&void 0!==n||(t.measured={}),t.measured.width=e.dimensions.width,t.measured.height=e.dimensions.height,e.setAttributes&&(t.width=e.dimensions.width,t.height=e.dimensions.height)}"boolean"==typeof e.resizing&&(t.resizing=e.resizing)}}(e,l);n.push(l)}return l.length&&l.forEach(e=>{void 0!==e.index?n.splice(e.index,0,{...e.item}):n.push({...e.item})}),n}function X(e,t){return{id:e,type:"select",selected:t}}function W(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Set,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=[];for(let[l,r]of e){let e=t.has(l);(void 0!==r.selected||e)&&r.selected!==e&&(n&&(r.selected=e),o.push(X(r.id,e)))}return o}function K(e){let{items:t=[],lookup:n}=e,o=[],l=new Map(t.map(e=>[e.id,e]));for(let[e,l]of t.entries()){var r,i;let t=n.get(l.id),a=null!==(i=null==t?void 0:null===(r=t.internals)||void 0===r?void 0:r.userNode)&&void 0!==i?i:t;void 0!==a&&a!==l&&o.push({id:l.id,item:l,type:"replace"}),void 0===a&&o.push({item:l,type:"add",index:e})}for(let[e]of n)void 0===l.get(e)&&o.push({id:e,type:"remove"});return o}function Y(e){return{id:e.id,type:"remove"}}let G=e=>(0,i.oB)(e),Q=e=>(0,i.b$)(e);function U(e){return(0,a.forwardRef)(e)}let q="undefined"!=typeof window?a.useLayoutEffect:a.useEffect;function $(e){let[t,n]=(0,a.useState)(BigInt(0)),[o]=(0,a.useState)(()=>{var e;let t;return e=()=>n(e=>e+BigInt(1)),t=[],{get:()=>t,reset:()=>{t=[]},push:n=>{t.push(n),e()}}});return q(()=>{let t=o.get();t.length&&(e(t),o.reset())},[t]),o}let J=(0,a.createContext)(null);function ee(e){let{children:t}=e,n=p(),o=$((0,a.useCallback)(e=>{let{nodes:t=[],setNodes:o,hasDefaultNodes:l,onNodesChange:r,nodeLookup:i}=n.getState(),a=t;for(let t of e)a="function"==typeof t?t(a):t;l?o(a):r&&r(K({items:a,lookup:i}))},[])),r=$((0,a.useCallback)(e=>{let{edges:t=[],setEdges:o,hasDefaultEdges:l,onEdgesChange:r,edgeLookup:i}=n.getState(),a=t;for(let t of e)a="function"==typeof t?t(a):t;l?o(a):r&&r(K({items:a,lookup:i}))},[])),i=(0,a.useMemo)(()=>({nodeQueue:o,edgeQueue:r}),[]);return(0,l.jsx)(J.Provider,{value:i,children:t})}let et=e=>!!e.panZoom;function en(){let e=H(),t=p(),n=function(){let e=(0,a.useContext)(J);if(!e)throw Error("useBatchContext must be used within a BatchProvider");return e}(),o=f(et),l=(0,a.useMemo)(()=>{let e=e=>t.getState().nodeLookup.get(e),o=e=>{n.nodeQueue.push(e)},l=e=>{n.edgeQueue.push(e)},r=e=>{var n,o,l,r;let{nodeLookup:a,nodeOrigin:s}=t.getState(),d=G(e)?e:a.get(e.id),c=d.parentId?(0,i.us)(d.position,d.measured,d.parentId,a,s):d.position,u={...d,position:c,width:null!==(l=null===(n=d.measured)||void 0===n?void 0:n.width)&&void 0!==l?l:d.width,height:null!==(r=null===(o=d.measured)||void 0===o?void 0:o.height)&&void 0!==r?r:d.height};return(0,i.kM)(u)},a=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{replace:!1};o(o=>o.map(o=>{if(o.id===e){let e="function"==typeof t?t(o):t;return n.replace&&G(e)?e:{...o,...e}}return o}))},s=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{replace:!1};l(o=>o.map(o=>{if(o.id===e){let e="function"==typeof t?t(o):t;return n.replace&&Q(e)?e:{...o,...e}}return o}))};return{getNodes:()=>t.getState().nodes.map(e=>({...e})),getNode:t=>{var n;return null===(n=e(t))||void 0===n?void 0:n.internals.userNode},getInternalNode:e,getEdges:()=>{let{edges:e=[]}=t.getState();return e.map(e=>({...e}))},getEdge:e=>t.getState().edgeLookup.get(e),setNodes:o,setEdges:l,addNodes:e=>{let t=Array.isArray(e)?e:[e];n.nodeQueue.push(e=>[...e,...t])},addEdges:e=>{let t=Array.isArray(e)?e:[e];n.edgeQueue.push(e=>[...e,...t])},toObject:()=>{let{nodes:e=[],edges:n=[],transform:o}=t.getState(),[l,r,i]=o;return{nodes:e.map(e=>({...e})),edges:n.map(e=>({...e})),viewport:{x:l,y:r,zoom:i}}},deleteElements:async e=>{let{nodes:n=[],edges:o=[]}=e,{nodes:l,edges:r,onNodesDelete:a,onEdgesDelete:s,triggerNodeChanges:d,triggerEdgeChanges:c,onDelete:u,onBeforeDelete:g}=t.getState(),{nodes:f,edges:p}=await (0,i.Tq)({nodesToRemove:n,edgesToRemove:o,nodes:l,edges:r,onBeforeDelete:g}),m=p.length>0,v=f.length>0;if(m){let e=p.map(Y);null==s||s(p),c(e)}if(v){let e=f.map(Y);null==a||a(f),d(e)}return(v||m)&&(null==u||u({nodes:f,edges:p})),{deletedNodes:f,deletedEdges:p}},getIntersectingNodes:function(e){let n=!(arguments.length>1)||void 0===arguments[1]||arguments[1],o=arguments.length>2?arguments[2]:void 0,l=(0,i.mW)(e),a=l?e:r(e),s=void 0!==o;return a?(o||t.getState().nodes).filter(o=>{let r=t.getState().nodeLookup.get(o.id);if(r&&!l&&(o.id===e.id||!r.internals.positionAbsolute))return!1;let d=(0,i.kM)(s?o:r),c=(0,i.X6)(d,a);return n&&c>0||c>=a.width*a.height}):[]},isNodeIntersecting:function(e,t){let n=!(arguments.length>2)||void 0===arguments[2]||arguments[2],o=(0,i.mW)(e)?e:r(e);if(!o)return!1;let l=(0,i.X6)(o,t);return n&&l>0||l>=o.width*o.height},updateNode:a,updateNodeData:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{replace:!1};a(e,e=>{let o="function"==typeof t?t(e):t;return n.replace?{...e,data:o}:{...e,data:{...e.data,...o}}},n)},updateEdge:s,updateEdgeData:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{replace:!1};s(e,e=>{let o="function"==typeof t?t(e):t;return n.replace?{...e,data:o}:{...e,data:{...e.data,...o}}},n)},getNodesBounds:e=>{let{nodeLookup:n,nodeOrigin:o}=t.getState();return(0,i.Jo)(e,{nodeLookup:n,nodeOrigin:o})},getHandleConnections:e=>{var n,o;let{type:l,id:r,nodeId:i}=e;return Array.from(null!==(o=null===(n=t.getState().connectionLookup.get("".concat(i,"-").concat(l).concat(r?"-".concat(r):"")))||void 0===n?void 0:n.values())&&void 0!==o?o:[])},getNodeConnections:e=>{var n,o;let{type:l,handleId:r,nodeId:i}=e;return Array.from(null!==(o=null===(n=t.getState().connectionLookup.get("".concat(i).concat(l?r?"-".concat(l,"-").concat(r):"-".concat(l):"")))||void 0===n?void 0:n.values())&&void 0!==o?o:[])}}},[]);return(0,a.useMemo)(()=>({...l,...e,viewportInitialized:o}),[o])}let eo=e=>e.selected,el={actInsideInputWithModifier:!1},er="undefined"!=typeof window?window:void 0,ei={position:"absolute",width:"100%",height:"100%",top:0,left:0},ea=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib});function es(e){let{onPaneContextMenu:t,zoomOnScroll:n=!0,zoomOnPinch:o=!0,panOnScroll:r=!1,panOnScrollSpeed:s=.5,panOnScrollMode:c=i.ny.Free,zoomOnDoubleClick:u=!0,panOnDrag:g=!0,defaultViewport:m,translateExtent:v,minZoom:h,maxZoom:y,zoomActivationKeyCode:S,preventScrolling:b=!0,children:x,noWheelClassName:w,noPanClassName:C,onViewportChange:E,isControlledViewport:k,paneClickDistance:N}=e,M=p(),P=(0,a.useRef)(null),{userSelectionActive:D,lib:R}=f(ea,d.x),j=V(S),I=(0,a.useRef)();!function(e){let t=p();(0,a.useEffect)(()=>{let n=()=>{if(!e.current)return!1;let n=(0,i.Eo)(e.current);if(0===n.height||0===n.width){var o,l;null===(o=(l=t.getState()).onError)||void 0===o||o.call(l,"004",i.xc.error004())}t.setState({width:n.width||500,height:n.height||500})};if(e.current){n(),window.addEventListener("resize",n);let t=new ResizeObserver(()=>n());return t.observe(e.current),()=>{window.removeEventListener("resize",n),t&&e.current&&t.unobserve(e.current)}}},[])}(P);let O=(0,a.useCallback)(e=>{null==E||E({x:e[0],y:e[1],zoom:e[2]}),k||M.setState({transform:e})},[E,k]);return(0,a.useEffect)(()=>{if(P.current){I.current=(0,i.kO)({domNode:P.current,minZoom:h,maxZoom:y,translateExtent:v,viewport:m,paneClickDistance:N,onDraggingChange:e=>M.setState({paneDragging:e}),onPanZoomStart:(e,t)=>{let{onViewportChangeStart:n,onMoveStart:o}=M.getState();null==o||o(e,t),null==n||n(t)},onPanZoom:(e,t)=>{let{onViewportChange:n,onMove:o}=M.getState();null==o||o(e,t),null==n||n(t)},onPanZoomEnd:(e,t)=>{let{onViewportChangeEnd:n,onMoveEnd:o}=M.getState();null==o||o(e,t),null==n||n(t)}});let{x:e,y:t,zoom:n}=I.current.getViewport();return M.setState({panZoom:I.current,transform:[e,t,n],domNode:P.current.closest(".react-flow")}),()=>{var e;null===(e=I.current)||void 0===e||e.destroy()}}},[]),(0,a.useEffect)(()=>{var e;null===(e=I.current)||void 0===e||e.update({onPaneContextMenu:t,zoomOnScroll:n,zoomOnPinch:o,panOnScroll:r,panOnScrollSpeed:s,panOnScrollMode:c,zoomOnDoubleClick:u,panOnDrag:g,zoomActivationKeyPressed:j,preventScrolling:b,noPanClassName:C,userSelectionActive:D,noWheelClassName:w,lib:R,onTransformChange:O})},[t,n,o,r,s,c,u,g,j,b,C,D,w,R,O]),(0,l.jsx)("div",{className:"react-flow__renderer",ref:P,style:ei,children:x})}let ed=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function ec(){let{userSelectionActive:e,userSelectionRect:t}=f(ed,d.x);return e&&t?(0,l.jsx)("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:"translate(".concat(t.x,"px, ").concat(t.y,"px)")}}):null}let eu=(e,t)=>n=>{n.target===t.current&&(null==e||e(n))},eg=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging});function ef(e){let{isSelecting:t,selectionKeyPressed:n,selectionMode:o=i.Qc.Full,panOnDrag:s,selectionOnDrag:c,onSelectionStart:u,onSelectionEnd:g,onPaneClick:m,onPaneContextMenu:v,onPaneScroll:h,onPaneMouseEnter:y,onPaneMouseMove:S,onPaneMouseLeave:b,children:x}=e,w=p(),{userSelectionActive:C,elementsSelectable:E,dragging:k}=f(eg,d.x),N=E&&(t||C),M=(0,a.useRef)(null),P=(0,a.useRef)(),D=(0,a.useRef)(new Set),R=(0,a.useRef)(new Set),j=(0,a.useRef)(!1),I=(0,a.useRef)(!1),O=e=>{if(j.current){j.current=!1;return}null==m||m(e),w.getState().resetSelectedElements(),w.setState({nodesSelectionActive:!1})},_=!0===s||Array.isArray(s)&&s.includes(0);return(0,l.jsxs)("div",{className:(0,r.A)(["react-flow__pane",{draggable:_,dragging:k,selection:t}]),onClick:N?void 0:eu(O,M),onContextMenu:eu(e=>{if(Array.isArray(s)&&(null==s?void 0:s.includes(2))){e.preventDefault();return}null==v||v(e)},M),onWheel:eu(h?e=>h(e):void 0,M),onPointerEnter:N?void 0:y,onPointerDown:N?e=>{var n,o;let{resetSelectedElements:l,domNode:r}=w.getState();if(P.current=null==r?void 0:r.getBoundingClientRect(),!E||!t||0!==e.button||e.target!==M.current||!P.current)return;null===(o=e.target)||void 0===o||null===(n=o.setPointerCapture)||void 0===n||n.call(o,e.pointerId),I.current=!0,j.current=!1;let{x:a,y:s}=(0,i.q1)(e.nativeEvent,P.current);l(),w.setState({userSelectionRect:{width:0,height:0,startX:a,startY:s,x:a,y:s}}),null==u||u(e)}:S,onPointerMove:N?e=>{var t,n;let{userSelectionRect:l,transform:r,nodeLookup:a,edgeLookup:s,connectionLookup:d,triggerNodeChanges:c,triggerEdgeChanges:u,defaultEdgeOptions:g}=w.getState();if(!P.current||!l)return;j.current=!0;let{x:f,y:p}=(0,i.q1)(e.nativeEvent,P.current),{startX:m,startY:v}=l,h={startX:m,startY:v,x:f<m?f:m,y:p<v?p:v,width:Math.abs(f-m),height:Math.abs(p-v)},y=D.current,S=R.current;D.current=new Set((0,i.U$)(a,h,r,o===i.Qc.Partial,!0).map(e=>e.id)),R.current=new Set;let b=null===(t=null==g?void 0:g.selectable)||void 0===t||t;for(let e of D.current){let t=d.get(e);if(t)for(let{edgeId:e}of t.values()){let t=s.get(e);t&&(null!==(n=t.selectable)&&void 0!==n?n:b)&&R.current.add(e)}}(0,i._s)(y,D.current)||c(W(a,D.current,!0)),(0,i._s)(S,R.current)||u(W(s,R.current)),w.setState({userSelectionRect:h,userSelectionActive:!0,nodesSelectionActive:!1})}:S,onPointerUp:N?e=>{var t,o;if(0!==e.button||!I.current)return;null===(o=e.target)||void 0===o||null===(t=o.releasePointerCapture)||void 0===t||t.call(o,e.pointerId);let{userSelectionRect:l}=w.getState();!C&&l&&e.target===M.current&&(null==O||O(e)),w.setState({userSelectionActive:!1,userSelectionRect:null,nodesSelectionActive:D.current.size>0}),null==g||g(e),(n||c)&&(j.current=!1),I.current=!1}:void 0,onPointerLeave:b,ref:M,style:ei,children:[x,(0,l.jsx)(ec,{})]})}function ep(e){let{id:t,store:n,unselect:o=!1,nodeRef:l}=e,{addSelectedNodes:r,unselectNodesAndEdges:a,multiSelectionActive:s,nodeLookup:d,onError:c}=n.getState(),u=d.get(t);if(!u){null==c||c("012",i.xc.error012(t));return}n.setState({nodesSelectionActive:!1}),u.selected?(o||u.selected&&s)&&(a({nodes:[u],edges:[]}),requestAnimationFrame(()=>{var e;return null==l?void 0:null===(e=l.current)||void 0===e?void 0:e.blur()})):r([t])}function em(e){let{nodeRef:t,disabled:n=!1,noDragClassName:o,handleSelector:l,nodeId:r,isSelectable:s,nodeClickDistance:d}=e,c=p(),[u,g]=(0,a.useState)(!1),f=(0,a.useRef)();return(0,a.useEffect)(()=>{f.current=(0,i.I$)({getStoreItems:()=>c.getState(),onNodeMouseDown:e=>{ep({id:e,store:c,nodeRef:t})},onDragStart:()=>{g(!0)},onDragStop:()=>{g(!1)}})},[]),(0,a.useEffect)(()=>{var e,i;if(n)null===(e=f.current)||void 0===e||e.destroy();else if(t.current)return null===(i=f.current)||void 0===i||i.update({noDragClassName:o,handleSelector:l,domNode:t.current,isSelectable:s,nodeId:r,nodeClickDistance:d}),()=>{var e;null===(e=f.current)||void 0===e||e.destroy()}},[o,l,n,s,t,r]),u}let ev=e=>t=>t.selected&&(t.draggable||e&&void 0===t.draggable);function eh(){let e=p();return(0,a.useCallback)(t=>{let{nodeExtent:n,snapToGrid:o,snapGrid:l,nodesDraggable:r,onError:a,updateNodePositions:s,nodeLookup:d,nodeOrigin:c}=e.getState(),u=new Map,g=ev(r),f=o?l[0]:5,p=o?l[1]:5,m=t.direction.x*f*t.factor,v=t.direction.y*p*t.factor;for(let[,e]of d){if(!g(e))continue;let t={x:e.internals.positionAbsolute.x+m,y:e.internals.positionAbsolute.y+v};o&&(t=(0,i.s_)(t,l));let{position:r,positionAbsolute:s}=(0,i.aE)({nodeId:e.id,nextPosition:t,nodeLookup:d,nodeExtent:n,nodeOrigin:c,onError:a});e.position=r,e.internals.positionAbsolute=s,u.set(e.id,e)}s(u)},[])}let ey=(0,a.createContext)(null),eS=ey.Provider;ey.Consumer;let eb=()=>(0,a.useContext)(ey),ex=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),ew=(e,t,n)=>o=>{let{connectionClickStartHandle:l,connectionMode:r,connection:a}=o,{fromHandle:s,toHandle:d,isValid:c}=a,u=(null==d?void 0:d.nodeId)===e&&(null==d?void 0:d.id)===t&&(null==d?void 0:d.type)===n;return{connectingFrom:(null==s?void 0:s.nodeId)===e&&(null==s?void 0:s.id)===t&&(null==s?void 0:s.type)===n,connectingTo:u,clickConnecting:(null==l?void 0:l.nodeId)===e&&(null==l?void 0:l.id)===t&&(null==l?void 0:l.type)===n,isPossibleEndHandle:r===i.WZ.Strict?(null==s?void 0:s.type)!==n:e!==(null==s?void 0:s.nodeId)||t!==(null==s?void 0:s.id),connectionInProcess:!!s,valid:u&&c}},eC=(0,a.memo)(U(function(e,t){let{type:n="source",position:o=i.yX.Top,isValidConnection:a,isConnectable:s=!0,isConnectableStart:c=!0,isConnectableEnd:u=!0,id:g,onConnect:m,children:v,className:h,onMouseDown:y,onTouchStart:S,...b}=e,x=g||null,w="target"===n,C=p(),E=eb(),{connectOnClick:k,noPanClassName:N,rfId:M}=f(ex,d.x),{connectingFrom:P,connectingTo:D,clickConnecting:R,isPossibleEndHandle:j,connectionInProcess:I,valid:O}=f(ew(E,x,n),d.x);if(!E){var _,A;null===(_=(A=C.getState()).onError)||void 0===_||_.call(A,"010",i.xc.error010())}let B=e=>{let{defaultEdgeOptions:t,onConnect:n,hasDefaultEdges:o}=C.getState(),l={...t,...e};if(o){let{edges:e,setEdges:t}=C.getState();t((0,i.rN)(l,e))}null==n||n(l),null==m||m(l)},L=e=>{if(!E)return;let t=(0,i.Er)(e.nativeEvent);if(c&&(t&&0===e.button||!t)){let t=C.getState();i.aQ.onPointerDown(e.nativeEvent,{autoPanOnConnect:t.autoPanOnConnect,connectionMode:t.connectionMode,connectionRadius:t.connectionRadius,domNode:t.domNode,nodeLookup:t.nodeLookup,lib:t.lib,isTarget:w,handleId:x,nodeId:E,flowId:t.rfId,panBy:t.panBy,cancelConnection:t.cancelConnection,onConnectStart:t.onConnectStart,onConnectEnd:t.onConnectEnd,updateConnection:t.updateConnection,onConnect:B,isValidConnection:a||t.isValidConnection,getTransform:()=>C.getState().transform,getFromHandle:()=>C.getState().connection.fromHandle,autoPanSpeed:t.autoPanSpeed})}t?null==y||y(e):null==S||S(e)};return(0,l.jsx)("div",{"data-handleid":x,"data-nodeid":E,"data-handlepos":o,"data-id":"".concat(M,"-").concat(E,"-").concat(x,"-").concat(n),className:(0,r.A)(["react-flow__handle","react-flow__handle-".concat(o),"nodrag",N,h,{source:!w,target:w,connectable:s,connectablestart:c,connectableend:u,clickconnecting:R,connectingfrom:P,connectingto:D,valid:O,connectionindicator:s&&(!I||j)&&(I?u:c)}]),onMouseDown:L,onTouchStart:L,onClick:k?e=>{let{onClickConnectStart:t,onClickConnectEnd:o,connectionClickStartHandle:l,connectionMode:r,isValidConnection:s,lib:d,rfId:u,nodeLookup:g,connection:f}=C.getState();if(!E||!l&&!c)return;if(!l){null==t||t(e.nativeEvent,{nodeId:E,handleId:x,handleType:n}),C.setState({connectionClickStartHandle:{nodeId:E,type:n,id:x}});return}let p=(0,i.oj)(e.target),m=a||s,{connection:v,isValid:h}=i.aQ.isValid(e.nativeEvent,{handle:{nodeId:E,id:x,type:n},connectionMode:r,fromNodeId:l.nodeId,fromHandleId:l.id||null,fromType:l.type,isValidConnection:m,flowId:u,doc:p,lib:d,nodeLookup:g});h&&v&&B(v);let y=structuredClone(f);delete y.inProgress,y.toPosition=y.toHandle?y.toHandle.position:null,null==o||o(e,y),C.setState({connectionClickStartHandle:null})}:void 0,ref:t,...b,children:v})})),eE={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},ek={input:function(e){let{data:t,isConnectable:n,sourcePosition:o=i.yX.Bottom}=e;return(0,l.jsxs)(l.Fragment,{children:[null==t?void 0:t.label,(0,l.jsx)(eC,{type:"source",position:o,isConnectable:n})]})},default:function(e){let{data:t,isConnectable:n,targetPosition:o=i.yX.Top,sourcePosition:r=i.yX.Bottom}=e;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(eC,{type:"target",position:o,isConnectable:n}),null==t?void 0:t.label,(0,l.jsx)(eC,{type:"source",position:r,isConnectable:n})]})},output:function(e){let{data:t,isConnectable:n,targetPosition:o=i.yX.Top}=e;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(eC,{type:"target",position:o,isConnectable:n}),null==t?void 0:t.label]})},group:function(){return null}},eN=e=>{let{width:t,height:n,x:o,y:l}=(0,i.aZ)(e.nodeLookup,{filter:e=>!!e.selected});return{width:(0,i.kf)(t)?t:null,height:(0,i.kf)(n)?n:null,userSelectionActive:e.userSelectionActive,transformString:"translate(".concat(e.transform[0],"px,").concat(e.transform[1],"px) scale(").concat(e.transform[2],") translate(").concat(o,"px,").concat(l,"px)")}};function eM(e){let{onSelectionContextMenu:t,noPanClassName:n,disableKeyboardA11y:o}=e,i=p(),{width:s,height:c,transformString:u,userSelectionActive:g}=f(eN,d.x),m=eh(),v=(0,a.useRef)(null);if((0,a.useEffect)(()=>{if(!o){var e;null===(e=v.current)||void 0===e||e.focus({preventScroll:!0})}},[o]),em({nodeRef:v}),g||!s||!c)return null;let h=t?e=>{t(e,i.getState().nodes.filter(e=>e.selected))}:void 0;return(0,l.jsx)("div",{className:(0,r.A)(["react-flow__nodesselection","react-flow__container",n]),style:{transform:u},children:(0,l.jsx)("div",{ref:v,className:"react-flow__nodesselection-rect",onContextMenu:h,tabIndex:o?void 0:-1,onKeyDown:o?void 0:e=>{Object.prototype.hasOwnProperty.call(eE,e.key)&&(e.preventDefault(),m({direction:eE[e.key],factor:e.shiftKey?4:1}))},style:{width:s,height:c}})})}let eP="undefined"!=typeof window?window:void 0,eD=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function eR(e){let{children:t,onPaneClick:n,onPaneMouseEnter:o,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:s,onPaneScroll:d,paneClickDistance:c,deleteKeyCode:u,selectionKeyCode:g,selectionOnDrag:m,selectionMode:v,onSelectionStart:h,onSelectionEnd:y,multiSelectionKeyCode:S,panActivationKeyCode:b,zoomActivationKeyCode:x,elementsSelectable:w,zoomOnScroll:C,zoomOnPinch:E,panOnScroll:k,panOnScrollSpeed:N,panOnScrollMode:M,zoomOnDoubleClick:P,panOnDrag:D,defaultViewport:R,translateExtent:j,minZoom:I,maxZoom:O,preventScrolling:_,onSelectionContextMenu:A,noWheelClassName:B,noPanClassName:L,disableKeyboardA11y:z,onViewportChange:F,isControlledViewport:T}=e,{nodesSelectionActive:H,userSelectionActive:Z}=f(eD),X=V(g,{target:eP}),W=V(b,{target:eP}),K=W||D,Y=W||k,G=m&&!0!==K,Q=X||Z||G;return!function(e){let{deleteKeyCode:t,multiSelectionKeyCode:n}=e,o=p(),{deleteElements:l}=en(),r=V(t,el),i=V(n,{target:er});(0,a.useEffect)(()=>{if(r){let{edges:e,nodes:t}=o.getState();l({nodes:t.filter(eo),edges:e.filter(eo)}),o.setState({nodesSelectionActive:!1})}},[r]),(0,a.useEffect)(()=>{o.setState({multiSelectionActive:i})},[i])}({deleteKeyCode:u,multiSelectionKeyCode:S}),(0,l.jsx)(es,{onPaneContextMenu:s,elementsSelectable:w,zoomOnScroll:C,zoomOnPinch:E,panOnScroll:Y,panOnScrollSpeed:N,panOnScrollMode:M,zoomOnDoubleClick:P,panOnDrag:!X&&K,defaultViewport:R,translateExtent:j,minZoom:I,maxZoom:O,zoomActivationKeyCode:x,preventScrolling:_,noWheelClassName:B,noPanClassName:L,onViewportChange:F,isControlledViewport:T,paneClickDistance:c,children:(0,l.jsxs)(ef,{onSelectionStart:h,onSelectionEnd:y,onPaneClick:n,onPaneMouseEnter:o,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:s,onPaneScroll:d,panOnDrag:K,isSelecting:!!Q,selectionMode:v,selectionKeyPressed:X,selectionOnDrag:G,children:[t,H&&(0,l.jsx)(eM,{onSelectionContextMenu:A,noPanClassName:L,disableKeyboardA11y:z})]})})}eR.displayName="FlowRenderer";let ej=(0,a.memo)(eR),eI=e=>t=>e?(0,i.U$)(t.nodeLookup,{x:0,y:0,width:t.width,height:t.height},t.transform,!0).map(e=>e.id):Array.from(t.nodeLookup.keys()),eO=e=>e.updateNodeInternals;function e_(e){var t,n,o,s,c,u,g,m,v,y,S,b;let{id:x,onClick:w,onMouseEnter:C,onMouseMove:E,onMouseLeave:k,onContextMenu:N,onDoubleClick:M,nodesDraggable:P,elementsSelectable:D,nodesConnectable:R,nodesFocusable:j,resizeObserver:I,noDragClassName:O,noPanClassName:_,disableKeyboardA11y:A,rfId:B,nodeTypes:L,nodeExtent:z,nodeClickDistance:V,onError:F}=e,{node:T,internals:H,isParent:Z}=f(e=>{let t=e.nodeLookup.get(x),n=e.parentLookup.has(x);return{node:t,internals:t.internals,isParent:n}},d.x),X=T.type||"default",W=(null==L?void 0:L[X])||ek[X];void 0===W&&(null==F||F("003",i.xc.error003(X)),X="default",W=ek.default);let K=!!(T.draggable||P&&void 0===T.draggable),Y=!!(T.selectable||D&&void 0===T.selectable),G=!!(T.connectable||R&&void 0===T.connectable),Q=!!(T.focusable||j&&void 0===T.focusable),U=p(),q=(0,i.QE)(T),$=function(e){let{node:t,nodeType:n,hasDimensions:o,resizeObserver:l}=e,r=p(),i=(0,a.useRef)(null),s=(0,a.useRef)(null),d=(0,a.useRef)(t.sourcePosition),c=(0,a.useRef)(t.targetPosition),u=(0,a.useRef)(n),g=o&&!!t.internals.handleBounds;return(0,a.useEffect)(()=>{!i.current||t.hidden||g&&s.current===i.current||(s.current&&(null==l||l.unobserve(s.current)),null==l||l.observe(i.current),s.current=i.current)},[g,t.hidden]),(0,a.useEffect)(()=>()=>{s.current&&(null==l||l.unobserve(s.current),s.current=null)},[]),(0,a.useEffect)(()=>{if(i.current){let e=u.current!==n,o=d.current!==t.sourcePosition,l=c.current!==t.targetPosition;(e||o||l)&&(u.current=n,d.current=t.sourcePosition,c.current=t.targetPosition,r.getState().updateNodeInternals(new Map([[t.id,{id:t.id,nodeElement:i.current,force:!0}]])))}},[t.id,n,t.sourcePosition,t.targetPosition]),i}({node:T,nodeType:X,hasDimensions:q,resizeObserver:I}),J=em({nodeRef:$,disabled:T.hidden||!K,noDragClassName:O,handleSelector:T.dragHandle,nodeId:x,isSelectable:Y,nodeClickDistance:V}),ee=eh();if(T.hidden)return null;let et=(0,i.uD)(T),en=void 0===T.internals.handleBounds?{width:null!==(m=null!==(g=T.width)&&void 0!==g?g:T.initialWidth)&&void 0!==m?m:null===(c=T.style)||void 0===c?void 0:c.width,height:null!==(y=null!==(v=T.height)&&void 0!==v?v:T.initialHeight)&&void 0!==y?y:null===(u=T.style)||void 0===u?void 0:u.height}:{width:null!==(S=T.width)&&void 0!==S?S:null===(o=T.style)||void 0===o?void 0:o.width,height:null!==(b=T.height)&&void 0!==b?b:null===(s=T.style)||void 0===s?void 0:s.height},eo=Y||K||w||C||E||k,el=C?e=>C(e,{...H.userNode}):void 0,er=E?e=>E(e,{...H.userNode}):void 0,ei=k?e=>k(e,{...H.userNode}):void 0,ea=N?e=>N(e,{...H.userNode}):void 0,es=M?e=>M(e,{...H.userNode}):void 0;return(0,l.jsx)("div",{className:(0,r.A)(["react-flow__node","react-flow__node-".concat(X),{[_]:K},T.className,{selected:T.selected,selectable:Y,parent:Z,draggable:K,dragging:J}]),ref:$,style:{zIndex:H.z,transform:"translate(".concat(H.positionAbsolute.x,"px,").concat(H.positionAbsolute.y,"px)"),pointerEvents:eo?"all":"none",visibility:q?"visible":"hidden",...T.style,...en},"data-id":x,"data-testid":"rf__node-".concat(x),onMouseEnter:el,onMouseMove:er,onMouseLeave:ei,onContextMenu:ea,onClick:e=>{let{selectNodesOnDrag:t,nodeDragThreshold:n}=U.getState();Y&&(!t||!K||n>0)&&ep({id:x,store:U,nodeRef:$}),w&&w(e,{...H.userNode})},onDoubleClick:es,onKeyDown:Q?e=>{!(0,i.v5)(e.nativeEvent)&&!A&&(i.tn.includes(e.key)&&Y?ep({id:x,store:U,unselect:"Escape"===e.key,nodeRef:$}):K&&T.selected&&Object.prototype.hasOwnProperty.call(eE,e.key)&&(e.preventDefault(),U.setState({ariaLiveMessage:"Moved selected node ".concat(e.key.replace("Arrow","").toLowerCase(),". New position, x: ").concat(~~H.positionAbsolute.x,", y: ").concat(~~H.positionAbsolute.y)}),ee({direction:eE[e.key],factor:e.shiftKey?4:1})))}:void 0,tabIndex:Q?0:void 0,role:Q?"button":void 0,"aria-describedby":A?void 0:"".concat(h,"-").concat(B),"aria-label":T.ariaLabel,children:(0,l.jsx)(eS,{value:x,children:(0,l.jsx)(W,{id:x,data:T.data,type:X,positionAbsoluteX:H.positionAbsolute.x,positionAbsoluteY:H.positionAbsolute.y,selected:null!==(t=T.selected)&&void 0!==t&&t,selectable:Y,draggable:K,deletable:null===(n=T.deletable)||void 0===n||n,isConnectable:G,sourcePosition:T.sourcePosition,targetPosition:T.targetPosition,dragging:J,dragHandle:T.dragHandle,zIndex:H.z,parentId:T.parentId,...et})})})}let eA=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function eB(e){var t;let{nodesDraggable:n,nodesConnectable:o,nodesFocusable:r,elementsSelectable:i,onError:s}=f(eA,d.x),c=(t=e.onlyRenderVisibleElements,f((0,a.useCallback)(eI(t),[t]),d.x)),u=function(){let e=f(eO),[t]=(0,a.useState)(()=>"undefined"==typeof ResizeObserver?null:new ResizeObserver(t=>{let n=new Map;t.forEach(e=>{let t=e.target.getAttribute("data-id");n.set(t,{id:t,nodeElement:e.target,force:!0})}),e(n)}));return(0,a.useEffect)(()=>()=>{null==t||t.disconnect()},[t]),t}();return(0,l.jsx)("div",{className:"react-flow__nodes",style:ei,children:c.map(t=>(0,l.jsx)(e_,{id:t,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:u,nodesDraggable:n,nodesConnectable:o,nodesFocusable:r,elementsSelectable:i,nodeClickDistance:e.nodeClickDistance,onError:s},t))})}eB.displayName="NodeRenderer";let eL=(0,a.memo)(eB),ez={[i.TG.Arrow]:e=>{let{color:t="none",strokeWidth:n=1}=e;return(0,l.jsx)("polyline",{style:{stroke:t,strokeWidth:n},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"})},[i.TG.ArrowClosed]:e=>{let{color:t="none",strokeWidth:n=1}=e;return(0,l.jsx)("polyline",{style:{stroke:t,fill:t,strokeWidth:n},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})}},eV=e=>{let{id:t,type:n,color:o,width:r=12.5,height:s=12.5,markerUnits:d="strokeWidth",strokeWidth:c,orient:u="auto-start-reverse"}=e,g=function(e){let t=p();return(0,a.useMemo)(()=>{if(!Object.prototype.hasOwnProperty.call(ez,e)){var n,o;return null===(n=(o=t.getState()).onError)||void 0===n||n.call(o,"009",i.xc.error009(e)),null}return ez[e]},[e])}(n);return g?(0,l.jsx)("marker",{className:"react-flow__arrowhead",id:t,markerWidth:"".concat(r),markerHeight:"".concat(s),viewBox:"-10 -10 20 20",markerUnits:d,orient:u,refX:"0",refY:"0",children:(0,l.jsx)(g,{color:o,strokeWidth:c})}):null},eF=e=>{let{defaultColor:t,rfId:n}=e,o=f(e=>e.edges),r=f(e=>e.defaultEdgeOptions),s=(0,a.useMemo)(()=>(0,i.Hm)(o,{id:n,defaultColor:t,defaultMarkerStart:null==r?void 0:r.markerStart,defaultMarkerEnd:null==r?void 0:r.markerEnd}),[o,r,n,t]);return s.length?(0,l.jsx)("svg",{className:"react-flow__marker",children:(0,l.jsx)("defs",{children:s.map(e=>(0,l.jsx)(eV,{id:e.id,type:e.type,color:e.color,width:e.width,height:e.height,markerUnits:e.markerUnits,strokeWidth:e.strokeWidth,orient:e.orient},e.id))})}):null};eF.displayName="MarkerDefinitions";var eT=(0,a.memo)(eF);function eH(e){let{x:t,y:n,label:o,labelStyle:i={},labelShowBg:s=!0,labelBgStyle:d={},labelBgPadding:c=[2,4],labelBgBorderRadius:u=2,children:g,className:f,...p}=e,[m,v]=(0,a.useState)({x:1,y:0,width:0,height:0}),h=(0,r.A)(["react-flow__edge-textwrapper",f]),y=(0,a.useRef)(null);return((0,a.useEffect)(()=>{if(y.current){let e=y.current.getBBox();v({x:e.x,y:e.y,width:e.width,height:e.height})}},[o]),void 0!==o&&o)?(0,l.jsxs)("g",{transform:"translate(".concat(t-m.width/2," ").concat(n-m.height/2,")"),className:h,visibility:m.width?"visible":"hidden",...p,children:[s&&(0,l.jsx)("rect",{width:m.width+2*c[0],x:-c[0],y:-c[1],height:m.height+2*c[1],className:"react-flow__edge-textbg",style:d,rx:u,ry:u}),(0,l.jsx)("text",{className:"react-flow__edge-text",y:m.height/2,dy:"0.3em",ref:y,style:i,children:o}),g]}):null}eH.displayName="EdgeText";let eZ=(0,a.memo)(eH);function eX(e){let{path:t,labelX:n,labelY:o,label:a,labelStyle:s,labelShowBg:d,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:g,interactionWidth:f=20,...p}=e;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("path",{...p,d:t,fill:"none",className:(0,r.A)(["react-flow__edge-path",p.className])}),f&&(0,l.jsx)("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:f,className:"react-flow__edge-interaction"}),a&&(0,i.kf)(n)&&(0,i.kf)(o)?(0,l.jsx)(eZ,{x:n,y:o,label:a,labelStyle:s,labelShowBg:d,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:g}):null]})}function eW(e){let{pos:t,x1:n,y1:o,x2:l,y2:r}=e;return t===i.yX.Left||t===i.yX.Right?[.5*(n+l),o]:[n,.5*(o+r)]}function eK(e){let{sourceX:t,sourceY:n,sourcePosition:o=i.yX.Bottom,targetX:l,targetY:r,targetPosition:a=i.yX.Top}=e,[s,d]=eW({pos:o,x1:t,y1:n,x2:l,y2:r}),[c,u]=eW({pos:a,x1:l,y1:r,x2:t,y2:n}),[g,f,p,m]=(0,i.e_)({sourceX:t,sourceY:n,targetX:l,targetY:r,sourceControlX:s,sourceControlY:d,targetControlX:c,targetControlY:u});return["M".concat(t,",").concat(n," C").concat(s,",").concat(d," ").concat(c,",").concat(u," ").concat(l,",").concat(r),g,f,p,m]}function eY(e){return(0,a.memo)(t=>{let{id:n,sourceX:o,sourceY:r,targetX:a,targetY:s,sourcePosition:d=i.yX.Bottom,targetPosition:c=i.yX.Top,label:u,labelStyle:g,labelShowBg:f,labelBgStyle:p,labelBgPadding:m,labelBgBorderRadius:v,style:h,markerEnd:y,markerStart:S,interactionWidth:b}=t,[x,w,C]=eK({sourceX:o,sourceY:r,sourcePosition:d,targetX:a,targetY:s,targetPosition:c}),E=e.isInternal?void 0:n;return(0,l.jsx)(eX,{id:E,path:x,labelX:w,labelY:C,label:u,labelStyle:g,labelShowBg:f,labelBgStyle:p,labelBgPadding:m,labelBgBorderRadius:v,style:h,markerEnd:y,markerStart:S,interactionWidth:b})})}let eG=eY({isInternal:!1}),eQ=eY({isInternal:!0});function eU(e){return(0,a.memo)(t=>{let{id:n,sourceX:o,sourceY:r,targetX:a,targetY:s,label:d,labelStyle:c,labelShowBg:u,labelBgStyle:g,labelBgPadding:f,labelBgBorderRadius:p,style:m,sourcePosition:v=i.yX.Bottom,targetPosition:h=i.yX.Top,markerEnd:y,markerStart:S,pathOptions:b,interactionWidth:x}=t,[w,C,E]=(0,i.oN)({sourceX:o,sourceY:r,sourcePosition:v,targetX:a,targetY:s,targetPosition:h,borderRadius:null==b?void 0:b.borderRadius,offset:null==b?void 0:b.offset}),k=e.isInternal?void 0:n;return(0,l.jsx)(eX,{id:k,path:w,labelX:C,labelY:E,label:d,labelStyle:c,labelShowBg:u,labelBgStyle:g,labelBgPadding:f,labelBgBorderRadius:p,style:m,markerEnd:y,markerStart:S,interactionWidth:x})})}eG.displayName="SimpleBezierEdge",eQ.displayName="SimpleBezierEdgeInternal";let eq=eU({isInternal:!1}),e$=eU({isInternal:!0});function eJ(e){return(0,a.memo)(t=>{var n;let{id:o,...r}=t,i=e.isInternal?void 0:o;return(0,l.jsx)(eq,{...r,id:i,pathOptions:(0,a.useMemo)(()=>{var e;return{borderRadius:0,offset:null===(e=r.pathOptions)||void 0===e?void 0:e.offset}},[null===(n=r.pathOptions)||void 0===n?void 0:n.offset])})})}eq.displayName="SmoothStepEdge",e$.displayName="SmoothStepEdgeInternal";let e0=eJ({isInternal:!1}),e1=eJ({isInternal:!0});function e2(e){return(0,a.memo)(t=>{let{id:n,sourceX:o,sourceY:r,targetX:a,targetY:s,label:d,labelStyle:c,labelShowBg:u,labelBgStyle:g,labelBgPadding:f,labelBgBorderRadius:p,style:m,markerEnd:v,markerStart:h,interactionWidth:y}=t,[S,b,x]=(0,i.ah)({sourceX:o,sourceY:r,targetX:a,targetY:s}),w=e.isInternal?void 0:n;return(0,l.jsx)(eX,{id:w,path:S,labelX:b,labelY:x,label:d,labelStyle:c,labelShowBg:u,labelBgStyle:g,labelBgPadding:f,labelBgBorderRadius:p,style:m,markerEnd:v,markerStart:h,interactionWidth:y})})}e0.displayName="StepEdge",e1.displayName="StepEdgeInternal";let e5=e2({isInternal:!1}),e4=e2({isInternal:!0});function e9(e){return(0,a.memo)(t=>{let{id:n,sourceX:o,sourceY:r,targetX:a,targetY:s,sourcePosition:d=i.yX.Bottom,targetPosition:c=i.yX.Top,label:u,labelStyle:g,labelShowBg:f,labelBgStyle:p,labelBgPadding:m,labelBgBorderRadius:v,style:h,markerEnd:y,markerStart:S,pathOptions:b,interactionWidth:x}=t,[w,C,E]=(0,i.Fp)({sourceX:o,sourceY:r,sourcePosition:d,targetX:a,targetY:s,targetPosition:c,curvature:null==b?void 0:b.curvature}),k=e.isInternal?void 0:n;return(0,l.jsx)(eX,{id:k,path:w,labelX:C,labelY:E,label:u,labelStyle:g,labelShowBg:f,labelBgStyle:p,labelBgPadding:m,labelBgBorderRadius:v,style:h,markerEnd:y,markerStart:S,interactionWidth:x})})}e5.displayName="StraightEdge",e4.displayName="StraightEdgeInternal";let e6=e9({isInternal:!1}),e3=e9({isInternal:!0});e6.displayName="BezierEdge",e3.displayName="BezierEdgeInternal";let e7={default:e3,straight:e4,step:e1,smoothstep:e$,simplebezier:eQ},e8={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},te=(e,t,n)=>n===i.yX.Left?e-t:n===i.yX.Right?e+t:e,tt=(e,t,n)=>n===i.yX.Top?e-t:n===i.yX.Bottom?e+t:e,tn="react-flow__edgeupdater";function to(e){let{position:t,centerX:n,centerY:o,radius:i=10,onMouseDown:a,onMouseEnter:s,onMouseOut:d,type:c}=e;return(0,l.jsx)("circle",{onMouseDown:a,onMouseEnter:s,onMouseOut:d,className:(0,r.A)([tn,"".concat(tn,"-").concat(c)]),cx:te(n,i,t),cy:tt(o,i,t),r:i,stroke:"transparent",fill:"transparent"})}function tl(e){let{isReconnectable:t,reconnectRadius:n,edge:o,sourceX:r,sourceY:a,targetX:s,targetY:d,sourcePosition:c,targetPosition:u,onReconnect:g,onReconnectStart:f,onReconnectEnd:m,setReconnecting:v,setUpdateHover:h}=e,y=p(),S=(e,t)=>{if(0!==e.button)return;let{autoPanOnConnect:n,domNode:l,isValidConnection:r,connectionMode:a,connectionRadius:s,lib:d,onConnectStart:c,onConnectEnd:u,cancelConnection:p,nodeLookup:h,rfId:S,panBy:b,updateConnection:x}=y.getState(),w="target"===t.type;v(!0),null==f||f(e,o,t.type),i.aQ.onPointerDown(e.nativeEvent,{autoPanOnConnect:n,connectionMode:a,connectionRadius:s,domNode:l,handleId:t.id,nodeId:t.nodeId,nodeLookup:h,isTarget:w,edgeUpdaterType:t.type,lib:d,flowId:S,cancelConnection:p,panBy:b,isValidConnection:r,onConnect:e=>null==g?void 0:g(o,e),onConnectStart:c,onConnectEnd:u,onReconnectEnd:(e,n)=>{v(!1),null==m||m(e,o,t.type,n)},updateConnection:x,getTransform:()=>y.getState().transform,getFromHandle:()=>y.getState().connection.fromHandle})},b=()=>h(!0),x=()=>h(!1);return(0,l.jsxs)(l.Fragment,{children:[(!0===t||"source"===t)&&(0,l.jsx)(to,{position:c,centerX:r,centerY:a,radius:n,onMouseDown:e=>{var t;return S(e,{nodeId:o.target,id:null!==(t=o.targetHandle)&&void 0!==t?t:null,type:"target"})},onMouseEnter:b,onMouseOut:x,type:"source"}),(!0===t||"target"===t)&&(0,l.jsx)(to,{position:u,centerX:s,centerY:d,radius:n,onMouseDown:e=>{var t;return S(e,{nodeId:o.source,id:null!==(t=o.sourceHandle)&&void 0!==t?t:null,type:"source"})},onMouseEnter:b,onMouseOut:x,type:"target"})]})}function tr(e){var t;let{id:n,edgesFocusable:o,edgesReconnectable:s,elementsSelectable:c,onClick:u,onDoubleClick:g,onContextMenu:m,onMouseEnter:v,onMouseMove:h,onMouseLeave:S,reconnectRadius:b,onReconnect:x,onReconnectStart:w,onReconnectEnd:C,rfId:E,edgeTypes:k,noPanClassName:N,onError:M,disableKeyboardA11y:P}=e,D=f(e=>e.edgeLookup.get(n)),R=f(e=>e.defaultEdgeOptions),j=(D=R?{...R,...D}:D).type||"default",I=(null==k?void 0:k[j])||e7[j];void 0===I&&(null==M||M("011",i.xc.error011(j)),j="default",I=e7.default);let O=!!(D.focusable||o&&void 0===D.focusable),_=void 0!==x&&(D.reconnectable||s&&void 0===D.reconnectable),A=!!(D.selectable||c&&void 0===D.selectable),B=(0,a.useRef)(null),[L,z]=(0,a.useState)(!1),[V,F]=(0,a.useState)(!1),T=p(),{zIndex:H,sourceX:Z,sourceY:X,targetX:W,targetY:K,sourcePosition:Y,targetPosition:G}=f((0,a.useCallback)(e=>{let t=e.nodeLookup.get(D.source),o=e.nodeLookup.get(D.target);if(!t||!o)return{zIndex:D.zIndex,...e8};let l=(0,i.b5)({id:n,sourceNode:t,targetNode:o,sourceHandle:D.sourceHandle||null,targetHandle:D.targetHandle||null,connectionMode:e.connectionMode,onError:M});return{zIndex:(0,i.qX)({selected:D.selected,zIndex:D.zIndex,sourceNode:t,targetNode:o,elevateOnSelect:e.elevateEdgesOnSelect}),...l||e8}},[D.source,D.target,D.sourceHandle,D.targetHandle,D.selected,D.zIndex]),d.x),Q=(0,a.useMemo)(()=>D.markerStart?"url('#".concat((0,i.aW)(D.markerStart,E),"')"):void 0,[D.markerStart,E]),U=(0,a.useMemo)(()=>D.markerEnd?"url('#".concat((0,i.aW)(D.markerEnd,E),"')"):void 0,[D.markerEnd,E]);if(D.hidden||null===Z||null===X||null===W||null===K)return null;let q=g?e=>{g(e,{...D})}:void 0,$=m?e=>{m(e,{...D})}:void 0,J=v?e=>{v(e,{...D})}:void 0,ee=h?e=>{h(e,{...D})}:void 0,et=S?e=>{S(e,{...D})}:void 0;return(0,l.jsx)("svg",{style:{zIndex:H},children:(0,l.jsxs)("g",{className:(0,r.A)(["react-flow__edge","react-flow__edge-".concat(j),D.className,N,{selected:D.selected,animated:D.animated,inactive:!A&&!u,updating:L,selectable:A}]),onClick:e=>{let{addSelectedEdges:t,unselectNodesAndEdges:o,multiSelectionActive:l}=T.getState();if(A){if(T.setState({nodesSelectionActive:!1}),D.selected&&l){var r;o({nodes:[],edges:[D]}),null===(r=B.current)||void 0===r||r.blur()}else t([n])}u&&u(e,D)},onDoubleClick:q,onContextMenu:$,onMouseEnter:J,onMouseMove:ee,onMouseLeave:et,onKeyDown:O?e=>{if(!P&&i.tn.includes(e.key)&&A){let{unselectNodesAndEdges:o,addSelectedEdges:l}=T.getState();if("Escape"===e.key){var t;null===(t=B.current)||void 0===t||t.blur(),o({edges:[D]})}else l([n])}}:void 0,tabIndex:O?0:void 0,role:O?"button":"img","data-id":n,"data-testid":"rf__edge-".concat(n),"aria-label":null===D.ariaLabel?void 0:D.ariaLabel||"Edge from ".concat(D.source," to ").concat(D.target),"aria-describedby":O?"".concat(y,"-").concat(E):void 0,ref:B,children:[!V&&(0,l.jsx)(I,{id:n,source:D.source,target:D.target,type:D.type,selected:D.selected,animated:D.animated,selectable:A,deletable:null===(t=D.deletable)||void 0===t||t,label:D.label,labelStyle:D.labelStyle,labelShowBg:D.labelShowBg,labelBgStyle:D.labelBgStyle,labelBgPadding:D.labelBgPadding,labelBgBorderRadius:D.labelBgBorderRadius,sourceX:Z,sourceY:X,targetX:W,targetY:K,sourcePosition:Y,targetPosition:G,data:D.data,style:D.style,sourceHandleId:D.sourceHandle,targetHandleId:D.targetHandle,markerStart:Q,markerEnd:U,pathOptions:"pathOptions"in D?D.pathOptions:void 0,interactionWidth:D.interactionWidth}),_&&(0,l.jsx)(tl,{edge:D,isReconnectable:_,reconnectRadius:b,onReconnect:x,onReconnectStart:w,onReconnectEnd:C,sourceX:Z,sourceY:X,targetX:W,targetY:K,sourcePosition:Y,targetPosition:G,setUpdateHover:z,setReconnecting:F})]})})}let ti=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function ta(e){let{defaultMarkerColor:t,onlyRenderVisibleElements:n,rfId:o,edgeTypes:r,noPanClassName:s,onReconnect:c,onEdgeContextMenu:u,onEdgeMouseEnter:g,onEdgeMouseMove:p,onEdgeMouseLeave:m,onEdgeClick:v,reconnectRadius:h,onEdgeDoubleClick:y,onReconnectStart:S,onReconnectEnd:b,disableKeyboardA11y:x}=e,{edgesFocusable:w,edgesReconnectable:C,elementsSelectable:E,onError:k}=f(ti,d.x),N=f((0,a.useCallback)(e=>{if(!n)return e.edges.map(e=>e.id);let t=[];if(e.width&&e.height)for(let n of e.edges){let o=e.nodeLookup.get(n.source),l=e.nodeLookup.get(n.target);o&&l&&(0,i.uj)({sourceNode:o,targetNode:l,width:e.width,height:e.height,transform:e.transform})&&t.push(n.id)}return t},[n]),d.x);return(0,l.jsxs)("div",{className:"react-flow__edges",children:[(0,l.jsx)(eT,{defaultColor:t,rfId:o}),N.map(e=>(0,l.jsx)(tr,{id:e,edgesFocusable:w,edgesReconnectable:C,elementsSelectable:E,noPanClassName:s,onReconnect:c,onContextMenu:u,onMouseEnter:g,onMouseMove:p,onMouseLeave:m,onClick:v,reconnectRadius:h,onDoubleClick:y,onReconnectStart:S,onReconnectEnd:b,rfId:o,onError:k,edgeTypes:r,disableKeyboardA11y:x},e))]})}ta.displayName="EdgeRenderer";let ts=(0,a.memo)(ta),td=e=>"translate(".concat(e.transform[0],"px,").concat(e.transform[1],"px) scale(").concat(e.transform[2],")");function tc(e){let{children:t}=e,n=f(td);return(0,l.jsx)("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:n},children:t})}let tu=e=>{var t;return null===(t=e.panZoom)||void 0===t?void 0:t.syncViewport};function tg(e){return e.connection.inProgress?{...e.connection,to:(0,i.Ff)(e.connection.to,e.transform)}:{...e.connection}}let tf=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function tp(e){let{containerStyle:t,style:n,type:o,component:a}=e,{nodesConnectable:s,width:c,height:u,isValid:g,inProgress:p}=f(tf,d.x);return c&&s&&p?(0,l.jsx)("svg",{style:t,width:c,height:u,className:"react-flow__connectionline react-flow__container",children:(0,l.jsx)("g",{className:(0,r.A)(["react-flow__connection",(0,i.HF)(g)]),children:(0,l.jsx)(tm,{style:n,type:o,CustomComponent:a,isValid:g})})}):null}let tm=e=>{var t;let{style:n,type:o=i.Do.Bezier,CustomComponent:r,isValid:a}=e,{inProgress:s,from:c,fromNode:u,fromHandle:g,fromPosition:p,to:m,toNode:v,toHandle:h,toPosition:y}=f(tg,d.x);if(!s)return;if(r)return(0,l.jsx)(r,{connectionLineType:o,connectionLineStyle:n,fromNode:u,fromHandle:g,fromX:c.x,fromY:c.y,toX:m.x,toY:m.y,fromPosition:p,toPosition:y,connectionStatus:(0,i.HF)(a),toNode:v,toHandle:h});let S="",b={sourceX:c.x,sourceY:c.y,sourcePosition:p,targetX:m.x,targetY:m.y,targetPosition:y};switch(o){case i.Do.Bezier:[S]=(0,i.Fp)(b);break;case i.Do.SimpleBezier:[S]=eK(b);break;case i.Do.Step:[S]=(0,i.oN)({...b,borderRadius:0});break;case i.Do.SmoothStep:[S]=(0,i.oN)(b);break;default:[S]=(0,i.ah)(b)}return(0,l.jsx)("path",{d:S,fill:"none",className:"react-flow__connection-path",style:n})};tm.displayName="ConnectionLine";let tv={};function th(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tv;(0,a.useRef)(e),p(),(0,a.useEffect)(()=>{},[e])}function ty(e){let{nodeTypes:t,edgeTypes:n,onInit:o,onNodeClick:r,onEdgeClick:i,onNodeDoubleClick:s,onEdgeDoubleClick:d,onNodeMouseEnter:c,onNodeMouseMove:u,onNodeMouseLeave:g,onNodeContextMenu:m,onSelectionContextMenu:v,onSelectionStart:h,onSelectionEnd:y,connectionLineType:S,connectionLineStyle:b,connectionLineComponent:x,connectionLineContainerStyle:w,selectionKeyCode:C,selectionOnDrag:E,selectionMode:k,multiSelectionKeyCode:N,panActivationKeyCode:M,zoomActivationKeyCode:P,deleteKeyCode:D,onlyRenderVisibleElements:R,elementsSelectable:j,defaultViewport:I,translateExtent:O,minZoom:_,maxZoom:A,preventScrolling:B,defaultMarkerColor:L,zoomOnScroll:z,zoomOnPinch:V,panOnScroll:F,panOnScrollSpeed:T,panOnScrollMode:H,zoomOnDoubleClick:Z,panOnDrag:X,onPaneClick:W,onPaneMouseEnter:K,onPaneMouseMove:Y,onPaneMouseLeave:G,onPaneScroll:Q,onPaneContextMenu:U,paneClickDistance:q,nodeClickDistance:$,onEdgeContextMenu:J,onEdgeMouseEnter:ee,onEdgeMouseMove:et,onEdgeMouseLeave:eo,reconnectRadius:el,onReconnect:er,onReconnectStart:ei,onReconnectEnd:ea,noDragClassName:es,noWheelClassName:ed,noPanClassName:ec,disableKeyboardA11y:eu,nodeExtent:eg,rfId:ef,viewport:ep,onViewportChange:em}=e;return th(t),th(n),p(),(0,a.useRef)(!1),(0,a.useEffect)(()=>{},[]),!function(e){let t=en(),n=(0,a.useRef)(!1);(0,a.useEffect)(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}(o),!function(e){let t=f(tu),n=p();(0,a.useEffect)(()=>{e&&(null==t||t(e),n.setState({transform:[e.x,e.y,e.zoom]}))},[e,t])}(ep),(0,l.jsx)(ej,{onPaneClick:W,onPaneMouseEnter:K,onPaneMouseMove:Y,onPaneMouseLeave:G,onPaneContextMenu:U,onPaneScroll:Q,paneClickDistance:q,deleteKeyCode:D,selectionKeyCode:C,selectionOnDrag:E,selectionMode:k,onSelectionStart:h,onSelectionEnd:y,multiSelectionKeyCode:N,panActivationKeyCode:M,zoomActivationKeyCode:P,elementsSelectable:j,zoomOnScroll:z,zoomOnPinch:V,zoomOnDoubleClick:Z,panOnScroll:F,panOnScrollSpeed:T,panOnScrollMode:H,panOnDrag:X,defaultViewport:I,translateExtent:O,minZoom:_,maxZoom:A,onSelectionContextMenu:v,preventScrolling:B,noDragClassName:es,noWheelClassName:ed,noPanClassName:ec,disableKeyboardA11y:eu,onViewportChange:em,isControlledViewport:!!ep,children:(0,l.jsxs)(tc,{children:[(0,l.jsx)(ts,{edgeTypes:n,onEdgeClick:i,onEdgeDoubleClick:d,onReconnect:er,onReconnectStart:ei,onReconnectEnd:ea,onlyRenderVisibleElements:R,onEdgeContextMenu:J,onEdgeMouseEnter:ee,onEdgeMouseMove:et,onEdgeMouseLeave:eo,reconnectRadius:el,defaultMarkerColor:L,noPanClassName:ec,disableKeyboardA11y:eu,rfId:ef}),(0,l.jsx)(tp,{style:b,type:S,component:x,containerStyle:w}),(0,l.jsx)("div",{className:"react-flow__edgelabel-renderer"}),(0,l.jsx)(eL,{nodeTypes:t,onNodeClick:r,onNodeDoubleClick:s,onNodeMouseEnter:c,onNodeMouseMove:u,onNodeMouseLeave:g,onNodeContextMenu:m,nodeClickDistance:$,onlyRenderVisibleElements:R,noPanClassName:ec,noDragClassName:es,disableKeyboardA11y:eu,nodeExtent:eg,rfId:ef}),(0,l.jsx)("div",{className:"react-flow__viewport-portal"})]})})}ty.displayName="GraphView";let tS=(0,a.memo)(ty),tb=function(){var e,t;let{nodes:n,edges:o,defaultNodes:l,defaultEdges:r,width:a,height:s,fitView:d,nodeOrigin:c,nodeExtent:u}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},g=new Map,f=new Map,p=new Map,m=new Map,v=null!==(e=null!=r?r:o)&&void 0!==e?e:[],h=null!==(t=null!=l?l:n)&&void 0!==t?t:[],y=null!=c?c:[0,0],S=null!=u?u:i.ZO;(0,i.qn)(p,m,v),(0,i.bi)(h,g,f,{nodeOrigin:y,nodeExtent:S,elevateNodesOnSelect:!1});let b=[0,0,1];if(d&&a&&s){let e=(0,i.aZ)(g,{filter:e=>!!((e.width||e.initialWidth)&&(e.height||e.initialHeight))}),{x:t,y:n,zoom:o}=(0,i.R4)(e,a,s,.5,2,.1);b=[t,n,o]}return{rfId:"1",width:0,height:0,transform:b,nodes:h,nodeLookup:g,parentLookup:f,edges:v,edgeLookup:m,connectionLookup:p,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:void 0!==l,hasDefaultEdges:void 0!==r,panZoom:null,minZoom:.5,maxZoom:2,translateExtent:i.ZO,nodeExtent:S,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:i.WZ.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:y,nodeDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!1,fitViewOnInit:!1,fitViewDone:!1,fitViewOnInitOptions:void 0,selectNodesOnDrag:!0,multiSelectionActive:!1,connection:{...i.bK},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanSpeed:15,connectionRadius:20,onError:i.KE,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1}},tx=e=>{let{nodes:t,edges:n,defaultNodes:o,defaultEdges:l,width:r,height:a,fitView:d,nodeOrigin:c,nodeExtent:u}=e;return(0,s.h)((e,s)=>({...tb({nodes:t,edges:n,width:r,height:a,fitView:d,nodeOrigin:c,nodeExtent:u,defaultNodes:o,defaultEdges:l}),setNodes:t=>{let{nodeLookup:n,parentLookup:o,nodeOrigin:l,elevateNodesOnSelect:r}=s();(0,i.bi)(t,n,o,{nodeOrigin:l,nodeExtent:u,elevateNodesOnSelect:r,checkEquality:!0}),e({nodes:t})},setEdges:t=>{let{connectionLookup:n,edgeLookup:o}=s();(0,i.qn)(n,o,t),e({edges:t})},setDefaultNodesAndEdges:(t,n)=>{if(t){let{setNodes:n}=s();n(t),e({hasDefaultNodes:!0})}if(n){let{setEdges:t}=s();t(n),e({hasDefaultEdges:!0})}},updateNodeInternals:function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{triggerFitView:!0},{triggerNodeChanges:o,nodeLookup:l,parentLookup:r,fitViewOnInit:a,fitViewDone:d,fitViewOnInitOptions:c,domNode:u,nodeOrigin:g,nodeExtent:f,debug:p,fitViewSync:m}=s(),{changes:v,updatedInternals:h}=(0,i.uL)(t,l,r,u,g,f);if(h){if((0,i.vS)(l,r,{nodeOrigin:g,nodeExtent:f}),n.triggerFitView){let t=d;!d&&a&&(t=m({...c,nodes:null==c?void 0:c.nodes})),e({fitViewDone:t})}else e({});(null==v?void 0:v.length)>0&&(p&&console.log("React Flow: trigger node changes",v),null==o||o(v))}},updateNodePositions:function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=[],o=[];for(let[l,r]of e){let e=!!((null==r?void 0:r.expandParent)&&(null==r?void 0:r.parentId)&&(null==r?void 0:r.position)),i={id:l,type:"position",position:e?{x:Math.max(0,r.position.x),y:Math.max(0,r.position.y)}:r.position,dragging:t};e&&n.push({id:l,parentId:r.parentId,rect:{...r.internals.positionAbsolute,width:r.measured.width,height:r.measured.height}}),o.push(i)}if(n.length>0){let{nodeLookup:e,parentLookup:t,nodeOrigin:l}=s(),r=(0,i.r8)(n,e,t,l);o.push(...r)}s().triggerNodeChanges(o)},triggerNodeChanges:e=>{let{onNodesChange:t,setNodes:n,nodes:o,hasDefaultNodes:l,debug:r}=s();(null==e?void 0:e.length)&&(l&&n(Z(e,o)),r&&console.log("React Flow: trigger node changes",e),null==t||t(e))},triggerEdgeChanges:e=>{let{onEdgesChange:t,setEdges:n,edges:o,hasDefaultEdges:l,debug:r}=s();(null==e?void 0:e.length)&&(l&&n(Z(e,o)),r&&console.log("React Flow: trigger edge changes",e),null==t||t(e))},addSelectedNodes:e=>{let{multiSelectionActive:t,edgeLookup:n,nodeLookup:o,triggerNodeChanges:l,triggerEdgeChanges:r}=s();if(t){l(e.map(e=>X(e,!0)));return}l(W(o,new Set([...e]),!0)),r(W(n))},addSelectedEdges:e=>{let{multiSelectionActive:t,edgeLookup:n,nodeLookup:o,triggerNodeChanges:l,triggerEdgeChanges:r}=s();if(t){r(e.map(e=>X(e,!0)));return}r(W(n,new Set([...e]))),l(W(o,new Set,!0))},unselectNodesAndEdges:function(){let{nodes:e,edges:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{edges:n,nodes:o,nodeLookup:l,triggerNodeChanges:r,triggerEdgeChanges:i}=s(),a=(e||o).map(e=>{let t=l.get(e.id);return t&&(t.selected=!1),X(e.id,!1)}),d=(t||n).map(e=>X(e.id,!1));r(a),i(d)},setMinZoom:t=>{let{panZoom:n,maxZoom:o}=s();null==n||n.setScaleExtent([t,o]),e({minZoom:t})},setMaxZoom:t=>{let{panZoom:n,minZoom:o}=s();null==n||n.setScaleExtent([o,t]),e({maxZoom:t})},setTranslateExtent:t=>{var n;null===(n=s().panZoom)||void 0===n||n.setTranslateExtent(t),e({translateExtent:t})},setPaneClickDistance:e=>{var t;null===(t=s().panZoom)||void 0===t||t.setClickDistance(e)},resetSelectedElements:()=>{let{edges:e,nodes:t,triggerNodeChanges:n,triggerEdgeChanges:o}=s(),l=t.reduce((e,t)=>t.selected?[...e,X(t.id,!1)]:e,[]),r=e.reduce((e,t)=>t.selected?[...e,X(t.id,!1)]:e,[]);n(l),o(r)},setNodeExtent:t=>{let{nodes:n,nodeLookup:o,parentLookup:l,nodeOrigin:r,elevateNodesOnSelect:a,nodeExtent:d}=s();(t[0][0]!==d[0][0]||t[0][1]!==d[0][1]||t[1][0]!==d[1][0]||t[1][1]!==d[1][1])&&((0,i.bi)(n,o,l,{nodeOrigin:r,nodeExtent:t,elevateNodesOnSelect:a,checkEquality:!1}),e({nodeExtent:t}))},panBy:e=>{let{transform:t,width:n,height:o,panZoom:l,translateExtent:r}=s();return(0,i.No)({delta:e,panZoom:l,transform:t,translateExtent:r,width:n,height:o})},fitView:e=>{let{panZoom:t,width:n,height:o,minZoom:l,maxZoom:r,nodeLookup:a}=s();if(!t)return Promise.resolve(!1);let d=(0,i.YV)(a,e);return(0,i.Pr)({nodes:d,width:n,height:o,panZoom:t,minZoom:l,maxZoom:r},e)},fitViewSync:e=>{let{panZoom:t,width:n,height:o,minZoom:l,maxZoom:r,nodeLookup:a}=s();if(!t)return!1;let d=(0,i.YV)(a,e);return(0,i.Pr)({nodes:d,width:n,height:o,panZoom:t,minZoom:l,maxZoom:r},e),d.size>0},cancelConnection:()=>{e({connection:{...i.bK}})},updateConnection:t=>{e({connection:t})},reset:()=>e({...tb()})}),Object.is)};function tw(e){let{initialNodes:t,initialEdges:n,defaultNodes:o,defaultEdges:r,initialWidth:i,initialHeight:s,fitView:d,nodeOrigin:c,nodeExtent:g,children:f}=e,[p]=(0,a.useState)(()=>tx({nodes:t,edges:n,defaultNodes:o,defaultEdges:r,width:i,height:s,fitView:d,nodeOrigin:c,nodeExtent:g}));return(0,l.jsx)(u,{value:p,children:(0,l.jsx)(ee,{children:f})})}function tC(e){let{children:t,nodes:n,edges:o,defaultNodes:r,defaultEdges:i,width:s,height:d,fitView:u,nodeOrigin:g,nodeExtent:f}=e;return(0,a.useContext)(c)?(0,l.jsx)(l.Fragment,{children:t}):(0,l.jsx)(tw,{initialNodes:n,initialEdges:o,defaultNodes:r,defaultEdges:i,initialWidth:s,initialHeight:d,fitView:u,nodeOrigin:g,nodeExtent:f,children:t})}let tE={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};var tk=U(function(e,t){let{nodes:n,edges:o,defaultNodes:s,defaultEdges:d,className:c,nodeTypes:u,edgeTypes:g,onNodeClick:f,onEdgeClick:p,onInit:m,onMove:v,onMoveStart:h,onMoveEnd:y,onConnect:S,onConnectStart:b,onConnectEnd:w,onClickConnectStart:C,onClickConnectEnd:k,onNodeMouseEnter:N,onNodeMouseMove:M,onNodeMouseLeave:P,onNodeContextMenu:D,onNodeDoubleClick:O,onNodeDragStart:_,onNodeDrag:A,onNodeDragStop:z,onNodesDelete:V,onEdgesDelete:F,onDelete:T,onSelectionChange:H,onSelectionDragStart:Z,onSelectionDrag:X,onSelectionDragStop:W,onSelectionContextMenu:K,onSelectionStart:Y,onSelectionEnd:G,onBeforeDelete:Q,connectionMode:U,connectionLineType:q=i.Do.Bezier,connectionLineStyle:$,connectionLineComponent:J,connectionLineContainerStyle:ee,deleteKeyCode:et="Backspace",selectionKeyCode:en="Shift",selectionOnDrag:eo=!1,selectionMode:el=i.Qc.Full,panActivationKeyCode:er="Space",multiSelectionKeyCode:ei=(0,i.Ue)()?"Meta":"Control",zoomActivationKeyCode:ea=(0,i.Ue)()?"Meta":"Control",snapToGrid:es,snapGrid:ed,onlyRenderVisibleElements:ec=!1,selectNodesOnDrag:eu,nodesDraggable:eg,nodesConnectable:ef,nodesFocusable:ep,nodeOrigin:em=j,edgesFocusable:ev,edgesReconnectable:eh,elementsSelectable:ey=!0,defaultViewport:eS=I,minZoom:eb=.5,maxZoom:ex=2,translateExtent:ew=i.ZO,preventScrolling:eC=!0,nodeExtent:eE,defaultMarkerColor:ek="#b1b1b7",zoomOnScroll:eN=!0,zoomOnPinch:eM=!0,panOnScroll:eP=!1,panOnScrollSpeed:eD=.5,panOnScrollMode:eR=i.ny.Free,zoomOnDoubleClick:ej=!0,panOnDrag:eI=!0,onPaneClick:eO,onPaneMouseEnter:e_,onPaneMouseMove:eA,onPaneMouseLeave:eB,onPaneScroll:eL,onPaneContextMenu:ez,paneClickDistance:eV=0,nodeClickDistance:eF=0,children:eT,onReconnect:eH,onReconnectStart:eZ,onReconnectEnd:eX,onEdgeContextMenu:eW,onEdgeDoubleClick:eK,onEdgeMouseEnter:eY,onEdgeMouseMove:eG,onEdgeMouseLeave:eQ,reconnectRadius:eU=10,onNodesChange:eq,onEdgesChange:e$,noDragClassName:eJ="nodrag",noWheelClassName:e0="nowheel",noPanClassName:e1="nopan",fitView:e2,fitViewOptions:e5,connectOnClick:e4,attributionPosition:e9,proOptions:e6,defaultEdgeOptions:e3,elevateNodesOnSelect:e7,elevateEdgesOnSelect:e8,disableKeyboardA11y:te=!1,autoPanOnConnect:tt,autoPanOnNodeDrag:tn,autoPanSpeed:to,connectionRadius:tl,isValidConnection:tr,onError:ti,style:ta,id:ts,nodeDragThreshold:td,viewport:tc,onViewportChange:tu,width:tg,height:tf,colorMode:tp="light",debug:tm,...tv}=e,th=ts||"1",ty=function(e){var t;let[n,o]=(0,a.useState)("system"===e?null:e);return(0,a.useEffect)(()=>{if("system"!==e){o(e);return}let t=L(),n=()=>o((null==t?void 0:t.matches)?"dark":"light");return n(),null==t||t.addEventListener("change",n),()=>{null==t||t.removeEventListener("change",n)}},[e]),null!==n?n:(null===(t=L())||void 0===t?void 0:t.matches)?"dark":"light"}(tp);return(0,l.jsx)("div",{"data-testid":"rf__wrapper",...tv,style:{...ta,...tE},ref:t,className:(0,r.A)(["react-flow",c,ty]),id:ts,children:(0,l.jsxs)(tC,{nodes:n,edges:o,width:tg,height:tf,fitView:e2,nodeOrigin:em,nodeExtent:eE,children:[(0,l.jsx)(tS,{onInit:m,onNodeClick:f,onEdgeClick:p,onNodeMouseEnter:N,onNodeMouseMove:M,onNodeMouseLeave:P,onNodeContextMenu:D,onNodeDoubleClick:O,nodeTypes:u,edgeTypes:g,connectionLineType:q,connectionLineStyle:$,connectionLineComponent:J,connectionLineContainerStyle:ee,selectionKeyCode:en,selectionOnDrag:eo,selectionMode:el,deleteKeyCode:et,multiSelectionKeyCode:ei,panActivationKeyCode:er,zoomActivationKeyCode:ea,onlyRenderVisibleElements:ec,defaultViewport:eS,translateExtent:ew,minZoom:eb,maxZoom:ex,preventScrolling:eC,zoomOnScroll:eN,zoomOnPinch:eM,zoomOnDoubleClick:ej,panOnScroll:eP,panOnScrollSpeed:eD,panOnScrollMode:eR,panOnDrag:eI,onPaneClick:eO,onPaneMouseEnter:e_,onPaneMouseMove:eA,onPaneMouseLeave:eB,onPaneScroll:eL,onPaneContextMenu:ez,paneClickDistance:eV,nodeClickDistance:eF,onSelectionContextMenu:K,onSelectionStart:Y,onSelectionEnd:G,onReconnect:eH,onReconnectStart:eZ,onReconnectEnd:eX,onEdgeContextMenu:eW,onEdgeDoubleClick:eK,onEdgeMouseEnter:eY,onEdgeMouseMove:eG,onEdgeMouseLeave:eQ,reconnectRadius:eU,defaultMarkerColor:ek,noDragClassName:eJ,noWheelClassName:e0,noPanClassName:e1,rfId:th,disableKeyboardA11y:te,nodeExtent:eE,viewport:tc,onViewportChange:tu}),(0,l.jsx)(B,{nodes:n,edges:o,defaultNodes:s,defaultEdges:d,onConnect:S,onConnectStart:b,onConnectEnd:w,onClickConnectStart:C,onClickConnectEnd:k,nodesDraggable:eg,nodesConnectable:ef,nodesFocusable:ep,edgesFocusable:ev,edgesReconnectable:eh,elementsSelectable:ey,elevateNodesOnSelect:e7,elevateEdgesOnSelect:e8,minZoom:eb,maxZoom:ex,nodeExtent:eE,onNodesChange:eq,onEdgesChange:e$,snapToGrid:es,snapGrid:ed,connectionMode:U,translateExtent:ew,connectOnClick:e4,defaultEdgeOptions:e3,fitView:e2,fitViewOptions:e5,onNodesDelete:V,onEdgesDelete:F,onDelete:T,onNodeDragStart:_,onNodeDrag:A,onNodeDragStop:z,onSelectionDrag:X,onSelectionDragStart:Z,onSelectionDragStop:W,onMove:v,onMoveStart:h,onMoveEnd:y,noPanClassName:e1,nodeOrigin:em,rfId:th,autoPanOnConnect:tt,autoPanOnNodeDrag:tn,autoPanSpeed:to,onError:ti,connectionRadius:tl,isValidConnection:tr,selectNodesOnDrag:eu,nodeDragThreshold:td,onBeforeDelete:Q,paneClickDistance:eV,debug:tm}),(0,l.jsx)(R,{onSelectionChange:H}),eT,(0,l.jsx)(E,{proOptions:e6,position:e9}),(0,l.jsx)(x,{rfId:th,disableKeyboardA11y:te})]})})});i.xc.error014(),!function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"}(o||(o={})),o.Dots,o.Lines,o.Cross;let tN=(0,a.memo)(function(e){let{id:t,x:n,y:o,width:i,height:a,style:s,color:d,strokeColor:c,strokeWidth:u,className:g,borderRadius:f,shapeRendering:p,selected:m,onClick:v}=e,{background:h,backgroundColor:y}=s||{};return(0,l.jsx)("rect",{className:(0,r.A)(["react-flow__minimap-node",{selected:m},g]),x:n,y:o,rx:f,ry:f,width:i,height:a,style:{fill:d||h||y,stroke:c,strokeWidth:u},shapeRendering:p,onClick:v?e=>v(e,t):void 0})}),tM=e=>e.nodes.map(e=>e.id),tP=e=>e instanceof Function?e:()=>e,tD=(0,a.memo)(function(e){let{id:t,nodeColorFunc:n,nodeStrokeColorFunc:o,nodeClassNameFunc:r,nodeBorderRadius:a,nodeStrokeWidth:s,shapeRendering:c,NodeComponent:u,onClick:g}=e,{node:p,x:m,y:v,width:h,height:y}=f(e=>{let n=e.nodeLookup.get(t),{x:o,y:l}=n.internals.positionAbsolute,{width:r,height:a}=(0,i.uD)(n);return{node:n,x:o,y:l,width:r,height:a}},d.x);return p&&!p.hidden&&(0,i.QE)(p)?(0,l.jsx)(u,{x:m,y:v,width:h,height:y,style:p.style,selected:!!p.selected,className:r(p),color:n(p),borderRadius:a,strokeColor:o(p),strokeWidth:s,shapeRendering:c,onClick:g,id:p.id}):null});var tR=(0,a.memo)(function(e){let{nodeStrokeColor:t,nodeColor:n,nodeClassName:o="",nodeBorderRadius:r=5,nodeStrokeWidth:i,nodeComponent:a=tN,onClick:s}=e,c=f(tM,d.x),u=tP(n),g=tP(t),p=tP(o),m="undefined"==typeof window||window.chrome?"crispEdges":"geometricPrecision";return(0,l.jsx)(l.Fragment,{children:c.map(e=>(0,l.jsx)(tD,{id:e,nodeColorFunc:u,nodeStrokeColorFunc:g,nodeClassNameFunc:p,nodeBorderRadius:r,nodeStrokeWidth:i,NodeComponent:a,onClick:s,shapeRendering:m},e))})});let tj=e=>{let t={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:t,boundingRect:e.nodeLookup.size>0?(0,i.Mi)((0,i.aZ)(e.nodeLookup),t):t,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height}};function tI(e){var t,n;let{style:o,className:s,nodeStrokeColor:c,nodeColor:u,nodeClassName:g="",nodeBorderRadius:m=5,nodeStrokeWidth:v,nodeComponent:h,bgColor:y,maskColor:S,maskStrokeColor:b,maskStrokeWidth:x,position:w="bottom-right",onClick:E,onNodeClick:k,pannable:N=!1,zoomable:M=!1,ariaLabel:P="React Flow mini map",inversePan:D,zoomStep:R=10,offsetScale:j=5}=e,I=p(),O=(0,a.useRef)(null),{boundingRect:_,viewBB:A,rfId:B,panZoom:L,translateExtent:z,flowWidth:V,flowHeight:F}=f(tj,d.x),T=null!==(t=null==o?void 0:o.width)&&void 0!==t?t:200,H=null!==(n=null==o?void 0:o.height)&&void 0!==n?n:150,Z=Math.max(_.width/T,_.height/H),X=Z*T,W=Z*H,K=j*Z,Y=_.x-(X-_.width)/2-K,G=_.y-(W-_.height)/2-K,Q=X+2*K,U=W+2*K,q="".concat("react-flow__minimap-desc","-").concat(B),$=(0,a.useRef)(0),J=(0,a.useRef)();$.current=Z,(0,a.useEffect)(()=>{if(O.current&&L)return J.current=(0,i.di)({domNode:O.current,panZoom:L,getTransform:()=>I.getState().transform,getViewScale:()=>$.current}),()=>{var e;null===(e=J.current)||void 0===e||e.destroy()}},[L]),(0,a.useEffect)(()=>{var e;null===(e=J.current)||void 0===e||e.update({translateExtent:z,width:V,height:F,inversePan:D,pannable:N,zoomStep:R,zoomable:M})},[N,M,D,R,z,V,F]);let ee=E?e=>{var t;let[n,o]=(null===(t=J.current)||void 0===t?void 0:t.pointer(e))||[0,0];E(e,{x:n,y:o})}:void 0,et=k?(0,a.useCallback)((e,t)=>{k(e,I.getState().nodeLookup.get(t))},[]):void 0;return(0,l.jsx)(C,{position:w,style:{...o,"--xy-minimap-background-color-props":"string"==typeof y?y:void 0,"--xy-minimap-mask-background-color-props":"string"==typeof S?S:void 0,"--xy-minimap-mask-stroke-color-props":"string"==typeof b?b:void 0,"--xy-minimap-mask-stroke-width-props":"number"==typeof x?x*Z:void 0,"--xy-minimap-node-background-color-props":"string"==typeof u?u:void 0,"--xy-minimap-node-stroke-color-props":"string"==typeof c?c:void 0,"--xy-minimap-node-stroke-width-props":"string"==typeof v?v:void 0},className:(0,r.A)(["react-flow__minimap",s]),"data-testid":"rf__minimap",children:(0,l.jsxs)("svg",{width:T,height:H,viewBox:"".concat(Y," ").concat(G," ").concat(Q," ").concat(U),className:"react-flow__minimap-svg",role:"img","aria-labelledby":q,ref:O,onClick:ee,children:[P&&(0,l.jsx)("title",{id:q,children:P}),(0,l.jsx)(tR,{onClick:et,nodeColor:u,nodeStrokeColor:c,nodeBorderRadius:m,nodeClassName:g,nodeStrokeWidth:v,nodeComponent:h}),(0,l.jsx)("path",{className:"react-flow__minimap-mask",d:"M".concat(Y-K,",").concat(G-K,"h").concat(Q+2*K,"v").concat(U+2*K,"h").concat(-Q-2*K,"z\n        M").concat(A.x,",").concat(A.y,"h").concat(A.width,"v").concat(A.height,"h").concat(-A.width,"z"),fillRule:"evenodd",pointerEvents:"none"})]})})}tI.displayName="MiniMap";let tO=(0,a.memo)(tI)}}]);